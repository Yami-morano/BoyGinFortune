@model List<BoyGin.Models.DTODetalleFactura>
@{
                /**/

                /**/

                ViewBag.Title = "FinalizaCompra";
}
<head>
    <link href="~/Content/bootstrap.min.css" rel="stylesheet" />
    <link href="~/Content/bootstrap-theme.min.css" rel="stylesheet" />
    <link href="~/Content/themes/base/datepicker.css" rel="stylesheet" />
</head>



@if (ViewBag.flag == false)
{

    <br />
    <br />

    <table class="table table-bordered table-striped table-hover">
        <thead>
            <tr>
                <th>Producto</th>
                <th>Precio</th>
                <th>Cantidad</th>
                <th>SubTotal</th>
            </tr>
        </thead>
        <tbody>
            @{
                double total = 0;
            }
            @foreach (var item in Model)
            {
                total += (double)(item.cantidad * item.precioUnitario);
                <tr>


                    <td>@item.nombreProducto</td>
                    <td>@item.precioUnitario</td>
                    <td>@item.cantidad</td>
                    <td>@item.Subtotal</td>

                </tr>

            }
        </tbody>
        <tfoot>
            <tr>
                <th colspan="3" class="info text-center">Total</th>
                <th class="info">@String.Format("{0:C}", total)</th>
            </tr>
        </tfoot>
    </table>

    @*<div class="btn btn-default bg-primary btn-lg">
            @Html.ActionLink("PAGAR", "MercadoPago", "MercadoPago", null, null)

        </div>*@


    <a href="@Url.Action("print", "Carrito")" class="btn btn-primary">Guardar e imprimir recibo</a>
    @*<a href="@Url.Action("EditarCliente", "Cliente", new { @idCliente = @Model[0].idCliente})" class="btn btn-primary">Editar domicilio de envio</a>*@
}
else
{

    <h1 class="text-center">Recibo</h1>
    <h2 class="text-center">COMPROBANTE NO VALIDO COMO FACTURA</h2>
    <div class="panel panel-title panel-default">
        <div class="row">
            <div class="col-xs-6 col-md-6">
                <table class="table table-bordered table-striped table-hover">

                    <tr>
                        <th colspan="2" class="text-center">Boy Gin Fortune</th>
                    </tr>
                    <tr>
                        <td>Destilería</td>
                        <td>(5220) Jesús Marúa, Córdoba, Argentina</td>
                    </tr>

                </table>
            </div>
            <div class=col-xs-6 col-md-6">
                <table class="table table-bordered table-striped table-hover">

                    <tr>
                        <th>Numero Recibo
                        <td>@Model[0].idFactura</td>
                    </tr>
                    <tr>
                        <th>Fecha</th>
                        <td>@Model[0].fechaFactura</td>
                    </tr>
                </table>
            </div>
        </div>
        <div class="row">
            <div class="container-fluid">
                <table class="table table-bordered table-striped table-hover">
                    <tr>
                        <th>Nombre:</th>
                        <td>@Model[0].nombreCliente</td>
                    </tr>

                </table>
            </div>
        </div>
    </div>

    <div class="panel panel-default panel-body">

        <table class="table table-bordered table-striped table-hover">
            <thead>
                <tr>
                    <th>Producto</th>
                    <th>Precio</th>
                    <th>Cantidad</th>
                    <th>Sub Total</th>
                </tr>
            </thead>
            <tbody>
                @{
                    double total = 0;
                }
                @foreach (var item in Model)
                {
                    total += (double)(item.cantidad * item.precioUnitario);
                    <tr>
                        <td>@item.nombreProducto</td>
                        <td>@item.precioUnitario</td>
                        <td>@item.cantidad</td>
                        <td>@item.Subtotal</td>
                    </tr>
                }
            </tbody>
            <tfoot>
                <tr>
                    <th colspan="3" class="info text-center">Total</th>
                    <th class="info">@String.Format("{0:C}", total)</th>
                </tr>
            </tfoot>
        </table>
    </div>
    Layout = null;
}



